
//实现n进制到十进制的转换
# include<stdio.h>
# include<string.h>  //在程序中，需要用到strupr()和strlen()两个函数
//	strupr()的作用是将括号内的指定字符串中的小写字母变成大写字母，其余字符串不变。
//	strlen()的作用是求括号中指定字符串的长城度，即有效字符串的个数。
main()
{
	//定义 需要用到的变量
	long t1;	
	int i, n, t, t3;
	char a[100];

	printf("请输入你需要转换的n进制数： \n");	//输入n进制数到数组a中
	gets(a);
	strupr(a);			//将a中的小写字母变成大写字母
	t3 = strlen(a);		//求出数组a的长度

	t1 = 0;
	printf("请输入进制值（二进制、八进制、十六进制）：");
	scanf("%d",&n);		//输入进制值
	for(i = 0; i < t3; i++)
	{
		if(a[i] - '0' >= n && a[i] <'A' || a[i] - 'A' + 10 >=n)	//判断输入的数据与进制数是否相同
		{
			printf("输出错误");		//输出错误
			exit(0);				//退出程序
		}
		if(a[i] >= '0' && a[i] <= '9')		// 判断是否为数字
		{
			t = a[i] - '0';		//求出该数字付给t
		}
		else if(n >= 11 && (a[i] >= 'A' && a[i] <= 'A' + n - 10))	//判断是否为字母
		{
			t = a[i] - 'A' + 10;				//求出字母所代表的十进制数
		}
		t1 = t1 * n + t;			//求出最终转换成的十进制
	}
	printf("最终的结果是： %d \n", t1);		//输出

}
